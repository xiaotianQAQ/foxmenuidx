jQuery(document).ready(function(o){"use strict";var i=function(){if("yes"==ywdpd_qty_args.is_default_qty_enabled){var t=o(document).find("#ywdpd-table-discounts");("yes"===ywdpd_qty_args.show_minimum_price?t.find("td.qty-price-info").last():t.find("td.qty-price-info").first()).click()}};o(document).on("click","#ywdpd-table-discounts td.qty-price-info",function(t){var d=o(this),i=d.html(),a="*"!=d.data("qtymax")?d.data("qtymax"):d.data("qtymin"),n=d.closest(".product").find(".qty"),e=d.closest(".product").find(".summary  .price"),y=e.find("del").length?e.find("del").html():"",c=d.index(),s=!1;o("td").removeClass("ywdpd_qty_active"),s="horizontal"===ywdpd_qty_args.template?o(document).find("#ywdpd-table-discounts td.qty-info").get(c-1):d.parent().find("td.qty-info"),d.addClass("ywdpd_qty_active"),s&&o(s).addClass("ywdpd_qty_active"),n.val(a),e.html("<del>"+y+"</del> "+i)}),o(document).on("click","#ywdpd-table-discounts td.qty-info",function(t){var d=o(this),i=d.index();o("td.qty-info").removeClass("ywdpd_qty_active"),d.addClass("ywdpd_qty_active");var a=!1;(a="horizontal"===ywdpd_qty_args.template?o(document).find("#ywdpd-table-discounts td.qty-price-info").get(i-1):d.parent().find("td.qty-price-info"))&&o(a).click()}),o(document).on("change","form.cart .qty",function(t){if(o(document).find("#ywdpd-table-discounts").length&&"yes"==ywdpd_qty_args.is_change_qty_enabled){var d=o(this).val(),i=o(document).find("#ywdpd-table-discounts"),a=i.find("td.qty-price-info").filter(function(){var t=o("form.cart .qty").val();return"*"!==o(this).data("qtymax")?o(this).data("qtymin")<=t&&o(this).data("qtymax")>=t:o(this).data("qtymin")<=t}),n=!1;if(a.length||(a=i.find("td.qty-price-info[data-qtymax='"+d+"']")),n="vertical"===ywdpd_qty_args.template?a.parent().find("td.qty-info"):i.find("td.qty-info").filter(function(){var t=o("form.cart .qty").val();return"*"!==o(this).data("qtymax")?o(this).data("qtymin")<=t&&o(this).data("qtymax")>=t:o(this).data("qtymin")<=t}),a.length){i.find("td.qty-price-info").removeClass("ywdpd_qty_active");var e=a.html(),y=a.closest(".product").find(".summary  .price"),c=y.find("del").length?y.find("del").html():"";a.addClass("ywdpd_qty_active"),y.html("<del>"+c+"</del> "+e)}n.length&&(i.find("td.qty-info").removeClass("ywdpd_qty_active"),n.addClass("ywdpd_qty_active"))}});var t=o('[name|="product_id"]'),d=(t.val(),o('[name|="variation_id"]')),a=t.closest("form"),n=o(".ywdpd-table-discounts-wrapper");if(o(document).on("found_variation",a,function(t,d){o(".ywdpd-table-discounts-wrapper").replaceWith(d.table_price),i()}),!d.length)return i(),!1;d.on("change",function(){""==o(this).val()&&o(".ywdpd-table-discounts-wrapper").replaceWith(n)})});